<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A library for parsing ACPI tables. This crate can be used by bootloaders and kernels for architectures that support ACPI. This crate is not feature-complete, but can parse lots of the more common tables. Parsing the ACPI tables is required for correctly setting up the APICs, HPET, and provides useful information about power management and many other platform capabilities."><title>acpi - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="acpi" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0-nightly (d8a38b000 2024-06-19)" data-channel="nightly" data-search-js="search-0fe7219eb170c82e.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../acpi/index.html">acpi</a><span class="version">4.1.1</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">acpi</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/acpi/lib.rs.html#1-314">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A library for parsing ACPI tables. This crate can be used by bootloaders and kernels for architectures that
support ACPI. This crate is not feature-complete, but can parse lots of the more common tables. Parsing the
ACPI tables is required for correctly setting up the APICs, HPET, and provides useful information about power
management and many other platform capabilities.</p>
<p>This crate is designed to find and parse the static tables ACPI provides. It should be used in conjunction with
the <code>aml</code> crate, which is the (much less complete) AML parser used to parse the DSDT and SSDTs. These crates
are separate because some kernels may want to detect the static tables, but delay AML parsing to a later stage.</p>
<p>This crate requires <code>alloc</code> to make heap allocations. If you are trying to find the RSDP in an environment that
does not have a heap (e.g. a bootloader), you can use the <code>rsdp</code> crate. The types from that crate are
compatible with <code>acpi</code>.</p>
<h4 id="usage"><a class="doc-anchor" href="#usage">§</a>Usage</h4>
<p>To use the library, you will need to provide an implementation of the <code>AcpiHandler</code> trait, which allows the
library to make requests such as mapping a particular region of physical memory into the virtual address space.</p>
<p>You then need to construct an instance of <code>AcpiTables</code>, which can be done in a few ways depending on how much
information you have:</p>
<ul>
<li>Use <code>AcpiTables::from_rsdp</code> if you have the physical address of the RSDP</li>
<li>Use <code>AcpiTables::from_rsdt</code> if you have the physical address of the RSDT/XSDT</li>
<li>Use <code>AcpiTables::search_for_rsdp_bios</code> if you don’t have the address of either, but <strong>you know you are
running on BIOS, not UEFI</strong></li>
<li>Use <code>AcpiTables::from_tables_direct</code> if you are using the library in an unusual setting, such as in usermode,
and have a custom method to enumerate and access the tables.</li>
</ul>
<p><code>AcpiTables</code> stores the addresses of all of the tables detected on a platform. The SDTs are parsed by this
library, or can be accessed directly with <code>from_sdt</code>, while the <code>DSDT</code> and any <code>SSDTs</code> should be parsed with
<code>aml</code>.</p>
<p>To gather information out of the static tables, a few of the types you should take a look at are:</p>
<ul>
<li><a href="platform/struct.PlatformInfo.html" title="struct acpi::platform::PlatformInfo"><code>PlatformInfo</code></a> parses the FADT and MADT to create a nice view of the
processor topology and interrupt controllers on <code>x86_64</code>, and the interrupt controllers on other platforms.
<code>AcpiTables::platform_info</code> is a convenience method for constructing a <code>PlatformInfo</code>.</li>
<li><a href="hpet/struct.HpetInfo.html" title="struct acpi::hpet::HpetInfo"><code>HpetInfo</code></a> parses the HPET table and tells you how to configure the High
Precision Event Timer.</li>
<li><a href="mcfg/struct.PciConfigRegions.html" title="struct acpi::mcfg::PciConfigRegions"><code>PciConfigRegions</code></a> parses the MCFG and tells you how PCIe configuration
space is mapped into physical memory.</li>
</ul>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.PowerProfile"><code>pub use crate::fadt::<a class="enum" href="fadt/enum.PowerProfile.html" title="enum acpi::fadt::PowerProfile">PowerProfile</a>;</code></div></li><li><div class="item-name" id="reexport.HpetInfo"><code>pub use crate::hpet::<a class="struct" href="hpet/struct.HpetInfo.html" title="struct acpi::hpet::HpetInfo">HpetInfo</a>;</code></div></li><li><div class="item-name" id="reexport.MadtError"><code>pub use crate::madt::<a class="enum" href="madt/enum.MadtError.html" title="enum acpi::madt::MadtError">MadtError</a>;</code></div></li><li><div class="item-name" id="reexport.PciConfigRegions"><code>pub use crate::mcfg::<a class="struct" href="mcfg/struct.PciConfigRegions.html" title="struct acpi::mcfg::PciConfigRegions">PciConfigRegions</a>;</code></div></li><li><div class="item-name" id="reexport.InterruptModel"><code>pub use crate::platform::interrupt::<a class="enum" href="platform/interrupt/enum.InterruptModel.html" title="enum acpi::platform::interrupt::InterruptModel">InterruptModel</a>;</code></div></li><li><div class="item-name" id="reexport.PlatformInfo"><code>pub use crate::platform::<a class="struct" href="platform/struct.PlatformInfo.html" title="struct acpi::platform::PlatformInfo">PlatformInfo</a>;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="bgrt/index.html" title="mod acpi::bgrt">bgrt</a></div></li><li><div class="item-name"><a class="mod" href="fadt/index.html" title="mod acpi::fadt">fadt</a></div></li><li><div class="item-name"><a class="mod" href="hpet/index.html" title="mod acpi::hpet">hpet</a></div></li><li><div class="item-name"><a class="mod" href="madt/index.html" title="mod acpi::madt">madt</a></div></li><li><div class="item-name"><a class="mod" href="mcfg/index.html" title="mod acpi::mcfg">mcfg</a></div></li><li><div class="item-name"><a class="mod" href="platform/index.html" title="mod acpi::platform">platform</a></div></li><li><div class="item-name"><a class="mod" href="sdt/index.html" title="mod acpi::sdt">sdt</a></div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AcpiTables.html" title="struct acpi::AcpiTables">AcpiTables</a></div></li><li><div class="item-name"><a class="struct" href="struct.AmlTable.html" title="struct acpi::AmlTable">AmlTable</a></div></li><li><div class="item-name"><a class="struct" href="struct.PhysicalMapping.html" title="struct acpi::PhysicalMapping">PhysicalMapping</a></div><div class="desc docblock-short">Describes a physical mapping created by <code>AcpiHandler::map_physical_region</code> and unmapped by
<code>AcpiHandler::unmap_physical_region</code>. The region mapped must be at least <code>size_of::&lt;T&gt;()</code>
bytes, but may be bigger.</div></li><li><div class="item-name"><a class="struct" href="struct.Sdt.html" title="struct acpi::Sdt">Sdt</a></div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.AcpiError.html" title="enum acpi::AcpiError">AcpiError</a></div></li><li><div class="item-name"><a class="enum" href="enum.RsdpError.html" title="enum acpi::RsdpError">RsdpError</a></div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.AcpiHandler.html" title="trait acpi::AcpiHandler">AcpiHandler</a></div><div class="desc docblock-short">An implementation of this trait must be provided to allow <code>acpi</code> to access platform-specific
functionality, such as mapping regions of physical memory. You are free to implement these
however you please, as long as they conform to the documentation of each function. The handler is stored in
every <code>PhysicalMapping</code> so it’s able to unmap itself when dropped, so this type needs to be something you can
clone/move about freely (e.g. a reference, wrapper over <code>Rc</code>, marker struct, etc.).</div></li><li><div class="item-name"><a class="trait" href="trait.AcpiTable.html" title="trait acpi::AcpiTable">AcpiTable</a></div><div class="desc docblock-short">All types representing ACPI tables should implement this trait.</div></li></ul></section></div></main></body></html>